{"remainingRequest":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\src\\components\\Visualization\\StackedNormalizedHorizontalBar.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\src\\components\\Visualization\\StackedNormalizedHorizontalBar.vue","mtime":1638741701022},{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwp2YXIgZjFhRGF0YSA9ICJkZWZhdWx0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdGFja2VkQmFyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGRhdGEgPSBudWxsOwogICAgcmV0dXJuIHsKICAgICAgZGF0YTogZGF0YQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIG1ldGhvZHM6IHsKICAgIGRyYXc6IGZ1bmN0aW9uIGRyYXcoZGF0YV8pIHsKICAgICAgdGhpcy5kYXRhID0gZGF0YV87CiAgICAgIGNvbnNvbGUubG9nKCJkYXRhIik7CiAgICAgIGNvbnNvbGUubG9nKGRhdGFfKTsKICAgICAgdmFyIHNlcmllcyA9IGQzLnN0YWNrKCkua2V5cyh0aGlzLmRhdGEuY29sdW1ucy5zbGljZSgxKSkub2Zmc2V0KGQzLnN0YWNrT2Zmc2V0RXhwYW5kKSh0aGlzLmRhdGEpLm1hcChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiB2LmtleSA9IGQua2V5OwogICAgICAgIH0pLCBkOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coInNlcmllcyIpOwogICAgICBjb25zb2xlLmxvZyhzZXJpZXMpOwogICAgICB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoKS5kb21haW4oc2VyaWVzLm1hcChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmtleTsKICAgICAgfSkpLnJhbmdlKGQzLnNjaGVtZVNwZWN0cmFsW3Nlcmllcy5sZW5ndGhdKS51bmtub3duKCIjY2NjIik7CiAgICAgIHZhciBtYXJnaW4gPSB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIHJpZ2h0OiAwLAogICAgICAgIGJvdHRvbTogMCwKICAgICAgICBsZWZ0OiAwCiAgICAgIH07CiAgICAgIHZhciB3aWR0aCA9IDEzMzA7CiAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmRhdGEubGVuZ3RoICogMzMgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbTsgLy8gY29uc29sZS5sb2coaGVpZ2h0KTsKCiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiNzdmcxIikuYXR0cigidmlld0JveCIsIFswLCAwLCB3aWR0aCwgaGVpZ2h0XSkuc3R5bGUoIm92ZXJmbG93IiwgInZpc2libGUiKTsKICAgICAgdmFyIHkgPSBkMy5zY2FsZUJhbmQoKS5kb21haW4odGhpcy5kYXRhLm1hcChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLm1vbnRoOwogICAgICB9KSkucmFuZ2UoW21hcmdpbi50b3AsIGhlaWdodCAtIG1hcmdpbi5ib3R0b21dKS5wYWRkaW5nKDAuMDgpOwogICAgICB2YXIgeCA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW21hcmdpbi5sZWZ0LCB3aWR0aCAtIG1hcmdpbi5yaWdodF0pOwoKICAgICAgdmFyIGZvcm1hdFZhbHVlID0gZnVuY3Rpb24gZm9ybWF0VmFsdWUoeCkgewogICAgICAgIHJldHVybiBpc05hTih4KSA/ICJOL0EiIDogeC50b0xvY2FsZVN0cmluZygiZW4iKTsKICAgICAgfTsKCiAgICAgIHZhciBmb3JtYXRQZXJjZW50ID0gZDMuZm9ybWF0KCIuMSUiKTsKICAgICAgdmFyIGFycl9qID0gbmV3IEFycmF5KCk7CiAgICAgIHZhciBqID0gMDsKICAgICAgdmFyIHBvc3RmaXggPSAiIjsKICAgICAgdmFyIGxlbmd0aF95ID0gc2VyaWVzWzBdLmxlbmd0aDsKICAgICAgc3ZnLmFwcGVuZCgiZyIpLnNlbGVjdEFsbCgiZyIpLmRhdGEoc2VyaWVzKS5lbnRlcigpLmFwcGVuZCgiZyIpLmF0dHIoImZpbGwiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgIGlmIChpICsgMSA9PSAxKSBhcnJfaltqKytdID0gaSArIDEgKyAiYSI7IC8vID8/PwogICAgICAgIGVsc2UgaWYgKGkgKyAxID09IDIpIGFycl9qW2orK10gPSBpICsgImIiO2Vsc2UgYXJyX2pbaisrXSA9IGk7IC8vIGNvbnNvbGUubG9nKGkpOwoKICAgICAgICByZXR1cm4gY29sb3IoZC5rZXkpOwogICAgICB9KS5zZWxlY3RBbGwoInJlY3QiKS5kYXRhKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgaiA9IDA7CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0pLmpvaW4oInJlY3QiKS5hdHRyKCJpZCIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgdmFyIGlkID0gIiI7CgogICAgICAgIGlmIChqICUgbGVuZ3RoX3kgPT0gMCkgewogICAgICAgICAgcG9zdGZpeCA9IGFycl9qW2ogLyBsZW5ndGhfeV07CiAgICAgICAgICBpZCA9ICJGMUFfIiArIChpICsgMSkgKyAiXyIgKyBwb3N0Zml4OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZCA9ICJGMUFfIiArIChpICsgMSkgKyAiXyIgKyBwb3N0Zml4OwogICAgICAgIH0gLy8gY29uc29sZS5sb2coIkYxQV8iICsgKGkgKyAxKSArICJfIiArIGFycl9qWyhqKSAvIGxlbmd0aF95XSk7CgoKICAgICAgICBqKys7CiAgICAgICAgcmV0dXJuIGlkOwogICAgICB9KS5hdHRyKCJjbGFzcyIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChkLmRhdGEubW9udGgpLmNvbmNhdChkLmtleSk7CiAgICAgIH0pLmF0dHIoIngiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiB4KGRbMF0pOwogICAgICB9KS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4geShkLmRhdGEubW9udGgpOwogICAgICB9KS5hdHRyKCJ3aWR0aCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIHgoZFsxXSkgLSB4KGRbMF0pOwogICAgICB9KS5hdHRyKCJoZWlnaHQiLCB5LmJhbmR3aWR0aCgpKTsKICAgICAgdmFyIGZvbnQ7CiAgICAgIHN2Zy5zZWxlY3RBbGwoInJlY3QiKS5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKGQzLnNlbGVjdCh0aGlzKS5fZ3JvdXBzWzBdKTsKICAgICAgICBkMy5zZWxlY3QodGhpcykuYXR0cigiZmlsbCIsICJ5ZWxsb3ciKS5hcHBlbmQoInRpdGxlIikudGV4dChmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChkLmRhdGEubW9udGgsICIgIikuY29uY2F0KGQua2V5LCAiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0IikuY29uY2F0KGZvcm1hdFBlcmNlbnQoZFsxXSAtIGRbMF0pLCAiICgiKS5jb25jYXQoZm9ybWF0VmFsdWUoZC5kYXRhW2Qua2V5XSksICIpIik7CiAgICAgICAgfSk7CiAgICAgICAgZm9udCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0MCIpLnN0eWxlLmZvbnQ7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QwIikuc3R5bGUuZm9udCA9ICJpdGFsaWMgMjBweCBhcmlhbCxzZXJpZiI7CiAgICAgIH0pLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMCkuYXR0cigiZmlsbCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICByZXR1cm4gY29sb3IoZC5rZXkpOwogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0MCIpLnN0eWxlLmZvbnQgPSBmb250OwogICAgICB9KTsKCiAgICAgIHZhciB5QXhpcyA9IGZ1bmN0aW9uIHlBeGlzKGcpIHsKICAgICAgICByZXR1cm4gZy5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIuY29uY2F0KG1hcmdpbi5sZWZ0LCAiLDApIikpLmNhbGwoZDMuYXhpc0xlZnQoeSkudGlja1NpemVPdXRlcigwKSkuY2FsbChmdW5jdGlvbiAoZykgewogICAgICAgICAgcmV0dXJuIGcuc2VsZWN0QWxsKCIuZG9tYWluIikucmVtb3ZlKCk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICB2YXIgeEF4aXMgPSBmdW5jdGlvbiB4QXhpcyhnKSB7CiAgICAgICAgcmV0dXJuIGcuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCIuY29uY2F0KG1hcmdpbi50b3AsICIpIikpLmNhbGwoZDMuYXhpc1RvcCh4KS50aWNrcyh3aWR0aCAvIDEwMCwgIiUiKSkuY2FsbChmdW5jdGlvbiAoZykgewogICAgICAgICAgcmV0dXJuIGcuc2VsZWN0QWxsKCIuZG9tYWluIikucmVtb3ZlKCk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBzdmcuYXBwZW5kKCJnIikuY2FsbCh4QXhpcyk7CiAgICAgIHN2Zy5hcHBlbmQoImciKS5jYWxsKHlBeGlzKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-22_CHEN_TDBDemo-Flask-Vue1\\client\\src\\components\\Visualization\\StackedNormalizedHorizontalBar.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\nimport axios from \"axios\";\r\nimport * as d3 from \"d3\";\r\n\r\nvar f1aData = \"default\";\r\n\r\nexport default {\r\n  name: \"StackedBar\",\r\n  data() {\r\n    var data = null;\r\n    return {\r\n      data,\r\n    };\r\n  },\r\n  components: {},\r\n  methods: {\r\n    draw (data_) {\r\n    this.data = data_;\r\n    console.log(\"data\");\r\n    console.log(data_);\r\n      let series = d3\r\n        .stack()\r\n        .keys(this.data.columns.slice(1))\r\n        .offset(d3.stackOffsetExpand)(this.data)\r\n        .map((d) => (d.forEach((v) => (v.key = d.key)), d));\r\n\r\nconsole.log(\"series\");\r\n        console.log(series);\r\n\r\n      let color = d3\r\n        .scaleOrdinal()\r\n        .domain(series.map((d) => d.key))\r\n        .range(d3.schemeSpectral[series.length])\r\n        .unknown(\"#ccc\");\r\n\r\n      let margin = {\r\n        top: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n      };\r\n\r\n      let width = 1330;\r\n      let height = this.data.length * 33 + margin.top + margin.bottom;\r\n      // console.log(height);\r\n\r\n      let svg = d3\r\n        .select(\"#svg1\")\r\n        .attr(\"viewBox\", [0, 0, width, height])\r\n        .style(\"overflow\", \"visible\");\r\n\r\n      let y = d3\r\n        .scaleBand()\r\n        .domain(this.data.map((d) => d.month))\r\n        .range([margin.top, height - margin.bottom])\r\n        .padding(0.08);\r\n\r\n      let x = d3.scaleLinear().range([margin.left, width - margin.right]);\r\n\r\n      let formatValue = (x) => (isNaN(x) ? \"N/A\" : x.toLocaleString(\"en\"));\r\n\r\n      let formatPercent = d3.format(\".1%\");\r\n\r\n      let arr_j = new Array();\r\n      let j = 0;\r\n      let postfix = \"\";\r\n      let length_y = series[0].length;\r\n\r\n      svg\r\n        .append(\"g\")\r\n        .selectAll(\"g\")\r\n        .data(series)\r\n        .enter()\r\n        .append(\"g\")\r\n        .attr(\"fill\", function (d, i) {\r\n          if (i + 1 == 1) arr_j[j++] = i + 1 + \"a\";\r\n          // ???\r\n          else if (i + 1 == 2) arr_j[j++] = i + \"b\";\r\n          else arr_j[j++] = i;\r\n          // console.log(i);\r\n          return color(d.key);\r\n        })\r\n        .selectAll(\"rect\")\r\n        .data(function (d) {\r\n          j = 0;\r\n          return d;\r\n        })\r\n        .join(\"rect\")\r\n        .attr(\"id\", function (d, i) {\r\n          let id = \"\";\r\n          if (j % length_y == 0) {\r\n            postfix = arr_j[j / length_y];\r\n            id = \"F1A_\" + (i + 1) + \"_\" + postfix;\r\n          } else {\r\n            id = \"F1A_\" + (i + 1) + \"_\" + postfix;\r\n          }\r\n          // console.log(\"F1A_\" + (i + 1) + \"_\" + arr_j[(j) / length_y]);\r\n          j++;\r\n          return id;\r\n        })\r\n        .attr(\"class\", (d) => `${d.data.month}${d.key}`)\r\n        .attr(\"x\", function (d) { return x(d[0]);})\r\n        .attr(\"y\", function (d) {return y(d.data.month);} )\r\n        .attr(\"width\", (d) => x(d[1]) - x(d[0]))\r\n        .attr(\"height\", y.bandwidth());\r\n\r\n      var font;\r\n\r\n      svg\r\n        .selectAll(\"rect\")\r\n        .on(\"mouseover\", function () {\r\n          // console.log(this);\r\n          // console.log(d3.select(this)._groups[0]);\r\n          d3.select(this)\r\n            .attr(\"fill\", \"yellow\")\r\n            .append(\"title\")\r\n            .text(\r\n              (d) => `${d.data.month} ${d.key}\r\n\t\t\t\t\t\t\t\t\t\t\t${formatPercent(d[1] - d[0])} (${formatValue(d.data[d.key])})`\r\n            );\r\n\r\n          font = document.getElementById(\"test0\").style.font;\r\n          document.getElementById(\"test0\").style.font =\r\n            \"italic 20px arial,serif\";\r\n        })\r\n        .on(\"mouseout\", function () {\r\n          d3.select(this)\r\n            .transition()\r\n            .duration(500)\r\n            .attr(\"fill\", (d) => color(d.key));\r\n\r\n          document.getElementById(\"test0\").style.font = font;\r\n        });\r\n\r\n      let yAxis = (g) =>\r\n        g\r\n          .attr(\"transform\", `translate(${margin.left},0)`)\r\n          .call(d3.axisLeft(y).tickSizeOuter(0))\r\n          .call((g) => g.selectAll(\".domain\").remove());\r\n\r\n      let xAxis = (g) =>\r\n        g\r\n          .attr(\"transform\", `translate(0,${margin.top})`)\r\n          .call(d3.axisTop(x).ticks(width / 100, \"%\"))\r\n          .call((g) => g.selectAll(\".domain\").remove());\r\n\r\n      svg.append(\"g\").call(xAxis);\r\n\r\n      svg.append(\"g\").call(yAxis);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nchart-info {\r\n  font-size: 14px;\r\n  color: #0000ff;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-left: 30%;\r\n}\r\n.rightC {\r\n  margin-left: 42%;\r\n  margin-top: -17%;\r\n}\r\n/* #svgCurve2 {\r\n  position: absolute;\r\n  border: 2px dashed purple;\r\n  width: 300px;\r\n  height: 120px;\r\n  left: 11%;\r\n} */\r\n</style>"],"sourceRoot":""}]}