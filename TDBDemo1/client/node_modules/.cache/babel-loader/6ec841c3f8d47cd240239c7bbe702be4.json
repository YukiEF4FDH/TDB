{"remainingRequest":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\src\\components\\Visualization\\StackedNormalizedHorizontalBar.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\src\\components\\Visualization\\StackedNormalizedHorizontalBar.vue","mtime":1637026642702},{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwp2YXIgZjFhRGF0YSA9ICJkZWZhdWx0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdGFja2VkQmFyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGRhdGEgPSBudWxsOwogICAgcmV0dXJuIHsKICAgICAgZGF0YTogZGF0YQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIG1ldGhvZHM6IHsKICAgIGRyYXc6IGZ1bmN0aW9uIGRyYXcoZGF0YV8pIHsKICAgICAgdGhpcy5kYXRhID0gZGF0YV87CiAgICAgIHZhciBzZXJpZXMgPSBkMy5zdGFjaygpLmtleXModGhpcy5kYXRhLmNvbHVtbnMuc2xpY2UoMSkpLm9mZnNldChkMy5zdGFja09mZnNldEV4cGFuZCkodGhpcy5kYXRhKS5tYXAoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi5rZXkgPSBkLmtleTsKICAgICAgICB9KSwgZDsKICAgICAgfSk7CiAgICAgIHZhciBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbCgpLmRvbWFpbihzZXJpZXMubWFwKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQua2V5OwogICAgICB9KSkucmFuZ2UoZDMuc2NoZW1lU3BlY3RyYWxbc2VyaWVzLmxlbmd0aF0pLnVua25vd24oIiNjY2MiKTsKICAgICAgdmFyIG1hcmdpbiA9IHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgcmlnaHQ6IDAsCiAgICAgICAgYm90dG9tOiAwLAogICAgICAgIGxlZnQ6IDAKICAgICAgfTsKICAgICAgdmFyIHdpZHRoID0gMTMzMDsKICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZGF0YS5sZW5ndGggKiAzMyArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tOyAvLyBjb25zb2xlLmxvZyhoZWlnaHQpOwoKICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgiI3N2ZzEiKS5hdHRyKCJ2aWV3Qm94IiwgWzAsIDAsIHdpZHRoLCBoZWlnaHRdKS5zdHlsZSgib3ZlcmZsb3ciLCAidmlzaWJsZSIpOwogICAgICB2YXIgeSA9IGQzLnNjYWxlQmFuZCgpLmRvbWFpbih0aGlzLmRhdGEubWFwKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQubW9udGg7CiAgICAgIH0pKS5yYW5nZShbbWFyZ2luLnRvcCwgaGVpZ2h0IC0gbWFyZ2luLmJvdHRvbV0pLnBhZGRpbmcoMC4wOCk7CiAgICAgIHZhciB4ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbbWFyZ2luLmxlZnQsIHdpZHRoIC0gbWFyZ2luLnJpZ2h0XSk7CgogICAgICB2YXIgZm9ybWF0VmFsdWUgPSBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh4KSB7CiAgICAgICAgcmV0dXJuIGlzTmFOKHgpID8gIk4vQSIgOiB4LnRvTG9jYWxlU3RyaW5nKCJlbiIpOwogICAgICB9OwoKICAgICAgdmFyIGZvcm1hdFBlcmNlbnQgPSBkMy5mb3JtYXQoIi4xJSIpOwogICAgICB2YXIgYXJyX2ogPSBuZXcgQXJyYXkoKTsKICAgICAgdmFyIGogPSAwOwogICAgICB2YXIgcG9zdGZpeCA9ICIiOwogICAgICB2YXIgbGVuZ3RoX3kgPSBzZXJpZXNbMF0ubGVuZ3RoOwogICAgICBzdmcuYXBwZW5kKCJnIikuc2VsZWN0QWxsKCJnIikuZGF0YShzZXJpZXMpLmVudGVyKCkuYXBwZW5kKCJnIikuYXR0cigiZmlsbCIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgaWYgKGkgKyAxID09IDEpIGFycl9qW2orK10gPSBpICsgMSArICJhIjsgLy8gPz8/CiAgICAgICAgZWxzZSBpZiAoaSArIDEgPT0gMikgYXJyX2pbaisrXSA9IGkgKyAiYiI7ZWxzZSBhcnJfaltqKytdID0gaTsgLy8gY29uc29sZS5sb2coaSk7CgogICAgICAgIHJldHVybiBjb2xvcihkLmtleSk7CiAgICAgIH0pLnNlbGVjdEFsbCgicmVjdCIpLmRhdGEoZnVuY3Rpb24gKGQpIHsKICAgICAgICBqID0gMDsKICAgICAgICByZXR1cm4gZDsKICAgICAgfSkuam9pbigicmVjdCIpLmF0dHIoImlkIiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICB2YXIgaWQgPSAiIjsKCiAgICAgICAgaWYgKGogJSBsZW5ndGhfeSA9PSAwKSB7CiAgICAgICAgICBwb3N0Zml4ID0gYXJyX2pbaiAvIGxlbmd0aF95XTsKICAgICAgICAgIGlkID0gIkYxQV8iICsgKGkgKyAxKSArICJfIiArIHBvc3RmaXg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlkID0gIkYxQV8iICsgKGkgKyAxKSArICJfIiArIHBvc3RmaXg7CiAgICAgICAgfSAvLyBjb25zb2xlLmxvZygiRjFBXyIgKyAoaSArIDEpICsgIl8iICsgYXJyX2pbKGopIC8gbGVuZ3RoX3ldKTsKCgogICAgICAgIGorKzsKICAgICAgICByZXR1cm4gaWQ7CiAgICAgIH0pLmF0dHIoImNsYXNzIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KGQuZGF0YS5tb250aCkuY29uY2F0KGQua2V5KTsKICAgICAgfSkuYXR0cigieCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIHgoZFswXSk7CiAgICAgIH0pLmF0dHIoInkiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiB5KGQuZGF0YS5tb250aCk7CiAgICAgIH0pLmF0dHIoIndpZHRoIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4geChkWzFdKSAtIHgoZFswXSk7CiAgICAgIH0pLmF0dHIoImhlaWdodCIsIHkuYmFuZHdpZHRoKCkpOwogICAgICB2YXIgZm9udDsKICAgICAgc3ZnLnNlbGVjdEFsbCgicmVjdCIpLm9uKCJtb3VzZW92ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcyk7CiAgICAgICAgLy8gY29uc29sZS5sb2coZDMuc2VsZWN0KHRoaXMpLl9ncm91cHNbMF0pOwogICAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCJmaWxsIiwgInllbGxvdyIpLmFwcGVuZCgidGl0bGUiKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KGQuZGF0YS5tb250aCwgIiAiKS5jb25jYXQoZC5rZXksICJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQiKS5jb25jYXQoZm9ybWF0UGVyY2VudChkWzFdIC0gZFswXSksICIgKCIpLmNvbmNhdChmb3JtYXRWYWx1ZShkLmRhdGFbZC5rZXldKSwgIikiKTsKICAgICAgICB9KTsKICAgICAgICBmb250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QwIikuc3R5bGUuZm9udDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdDAiKS5zdHlsZS5mb250ID0gIml0YWxpYyAyMHB4IGFyaWFsLHNlcmlmIjsKICAgICAgfSkub24oIm1vdXNlb3V0IiwgZnVuY3Rpb24gKCkgewogICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKS5hdHRyKCJmaWxsIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBjb2xvcihkLmtleSk7CiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QwIikuc3R5bGUuZm9udCA9IGZvbnQ7CiAgICAgIH0pOwoKICAgICAgdmFyIHlBeGlzID0gZnVuY3Rpb24geUF4aXMoZykgewogICAgICAgIHJldHVybiBnLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIi5jb25jYXQobWFyZ2luLmxlZnQsICIsMCkiKSkuY2FsbChkMy5heGlzTGVmdCh5KS50aWNrU2l6ZU91dGVyKDApKS5jYWxsKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICByZXR1cm4gZy5zZWxlY3RBbGwoIi5kb21haW4iKS5yZW1vdmUoKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIHZhciB4QXhpcyA9IGZ1bmN0aW9uIHhBeGlzKGcpIHsKICAgICAgICByZXR1cm4gZy5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsIi5jb25jYXQobWFyZ2luLnRvcCwgIikiKSkuY2FsbChkMy5heGlzVG9wKHgpLnRpY2tzKHdpZHRoIC8gMTAwLCAiJSIpKS5jYWxsKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICByZXR1cm4gZy5zZWxlY3RBbGwoIi5kb21haW4iKS5yZW1vdmUoKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIHN2Zy5hcHBlbmQoImciKS5jYWxsKHhBeGlzKTsKICAgICAgc3ZnLmFwcGVuZCgiZyIpLmNhbGwoeUF4aXMpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\MyResearch\\WakitaLab\\ProjectTDB\\Code\\11.10\\2021-11-16_CHEN_TDBDemo-Flask-Vue\\client\\src\\components\\Visualization\\StackedNormalizedHorizontalBar.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\nimport axios from \"axios\";\r\nimport * as d3 from \"d3\";\r\n\r\nvar f1aData = \"default\";\r\n\r\nexport default {\r\n  name: \"StackedBar\",\r\n  data() {\r\n    var data = null;\r\n    return {\r\n      data,\r\n    };\r\n  },\r\n  components: {},\r\n  methods: {\r\n    draw (data_) {\r\n    this.data = data_;\r\n      let series = d3\r\n        .stack()\r\n        .keys(this.data.columns.slice(1))\r\n        .offset(d3.stackOffsetExpand)(this.data)\r\n        .map((d) => (d.forEach((v) => (v.key = d.key)), d));\r\n\r\n      let color = d3\r\n        .scaleOrdinal()\r\n        .domain(series.map((d) => d.key))\r\n        .range(d3.schemeSpectral[series.length])\r\n        .unknown(\"#ccc\");\r\n\r\n      let margin = {\r\n        top: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n      };\r\n\r\n      let width = 1330;\r\n      let height = this.data.length * 33 + margin.top + margin.bottom;\r\n      // console.log(height);\r\n\r\n      let svg = d3\r\n        .select(\"#svg1\")\r\n        .attr(\"viewBox\", [0, 0, width, height])\r\n        .style(\"overflow\", \"visible\");\r\n\r\n      let y = d3\r\n        .scaleBand()\r\n        .domain(this.data.map((d) => d.month))\r\n        .range([margin.top, height - margin.bottom])\r\n        .padding(0.08);\r\n\r\n      let x = d3.scaleLinear().range([margin.left, width - margin.right]);\r\n\r\n      let formatValue = (x) => (isNaN(x) ? \"N/A\" : x.toLocaleString(\"en\"));\r\n\r\n      let formatPercent = d3.format(\".1%\");\r\n\r\n      let arr_j = new Array();\r\n      let j = 0;\r\n      let postfix = \"\";\r\n      let length_y = series[0].length;\r\n\r\n      svg\r\n        .append(\"g\")\r\n        .selectAll(\"g\")\r\n        .data(series)\r\n        .enter()\r\n        .append(\"g\")\r\n        .attr(\"fill\", function (d, i) {\r\n          if (i + 1 == 1) arr_j[j++] = i + 1 + \"a\";\r\n          // ???\r\n          else if (i + 1 == 2) arr_j[j++] = i + \"b\";\r\n          else arr_j[j++] = i;\r\n          // console.log(i);\r\n          return color(d.key);\r\n        })\r\n        .selectAll(\"rect\")\r\n        .data(function (d) {\r\n          j = 0;\r\n          return d;\r\n        })\r\n        .join(\"rect\")\r\n        .attr(\"id\", function (d, i) {\r\n          let id = \"\";\r\n          if (j % length_y == 0) {\r\n            postfix = arr_j[j / length_y];\r\n            id = \"F1A_\" + (i + 1) + \"_\" + postfix;\r\n          } else {\r\n            id = \"F1A_\" + (i + 1) + \"_\" + postfix;\r\n          }\r\n          // console.log(\"F1A_\" + (i + 1) + \"_\" + arr_j[(j) / length_y]);\r\n          j++;\r\n          return id;\r\n        })\r\n        .attr(\"class\", (d) => `${d.data.month}${d.key}`)\r\n        .attr(\"x\", (d) => x(d[0]))\r\n        .attr(\"y\", (d) => y(d.data.month))\r\n        .attr(\"width\", (d) => x(d[1]) - x(d[0]))\r\n        .attr(\"height\", y.bandwidth());\r\n\r\n      var font;\r\n\r\n      svg\r\n        .selectAll(\"rect\")\r\n        .on(\"mouseover\", function () {\r\n          // console.log(this);\r\n          // console.log(d3.select(this)._groups[0]);\r\n          d3.select(this)\r\n            .attr(\"fill\", \"yellow\")\r\n            .append(\"title\")\r\n            .text(\r\n              (d) => `${d.data.month} ${d.key}\r\n\t\t\t\t\t\t\t\t\t\t\t${formatPercent(d[1] - d[0])} (${formatValue(d.data[d.key])})`\r\n            );\r\n\r\n          font = document.getElementById(\"test0\").style.font;\r\n          document.getElementById(\"test0\").style.font =\r\n            \"italic 20px arial,serif\";\r\n        })\r\n        .on(\"mouseout\", function () {\r\n          d3.select(this)\r\n            .transition()\r\n            .duration(500)\r\n            .attr(\"fill\", (d) => color(d.key));\r\n\r\n          document.getElementById(\"test0\").style.font = font;\r\n        });\r\n\r\n      let yAxis = (g) =>\r\n        g\r\n          .attr(\"transform\", `translate(${margin.left},0)`)\r\n          .call(d3.axisLeft(y).tickSizeOuter(0))\r\n          .call((g) => g.selectAll(\".domain\").remove());\r\n\r\n      let xAxis = (g) =>\r\n        g\r\n          .attr(\"transform\", `translate(0,${margin.top})`)\r\n          .call(d3.axisTop(x).ticks(width / 100, \"%\"))\r\n          .call((g) => g.selectAll(\".domain\").remove());\r\n\r\n      svg.append(\"g\").call(xAxis);\r\n\r\n      svg.append(\"g\").call(yAxis);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nchart-info {\r\n  font-size: 14px;\r\n  color: #0000ff;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-left: 30%;\r\n}\r\n.rightC {\r\n  margin-left: 42%;\r\n  margin-top: -17%;\r\n}\r\n#svgCurve2 {\r\n  position: absolute;\r\n  border: 2px dashed purple;\r\n  width: 300px;\r\n  height: 120px;\r\n  left: 11%;\r\n}\r\n</style>"],"sourceRoot":""}]}